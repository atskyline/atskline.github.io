{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"About Me \u6211\u53eb\u6731\u6613\u8fb0\uff0c\u662f\u4e00\u540d\u5f00\u53d1\u8005\u3002\u6d89\u53ca\u7684\u9886\u57df\u5305\u62ecnginx\u4e8c\u6b21\u5f00\u53d1\u3001\u7f51\u7edc\u8d1f\u8f7d\u5747\u8861\u3001CDN\u7f13\u5b58\u3001FPGA\u9a8c\u8bc1\u3001\u5e95\u5c42\u8f6f\u4ef6\u7b49\u3002\u8fd9\u7f51\u7ad9/\u516c\u4f17\u53f7\u7528\u4e8e\u8bb0\u5f55\u6211\u5bf9\u8f6f\u4ef6\u8bbe\u8ba1\u4e0e\u8f6f\u4ef6\u5de5\u7a0b\u7684\u601d\u8003\u4e0e\u5b9e\u8df5\u3002 \u6211\u73b0\u5c31\u804c\u4e8e \u7f51\u901f\u79d1\u6280 \uff0c\u4ece\u4e8bCDN\u5e95\u5c42\u8f6f\u4ef6\u5f00\u53d1\u3002\u66fe\u5c31\u804c\u4e8e \u534e\u4e3a \u8d1f\u8d23\u57fa\u5e26\u82af\u7247FPGA\u9a8c\u8bc1\u76f8\u5173\u5de5\u4f5c\u3002\u5982\u60a8\u60f3\u548c\u6211\u5171\u4e8b\uff0c\u53ef\u4ee5\u901a\u8fc7\u90ae\u7bb1atskyline@outlook.com\u6216\u8054\u7cfb\u6211\u3002 \u6211\u7684\u516c\u4f17\u53f7 \u5f00\u53d1\u8005\u963f\u6731(atskyline_wx) \uff0c\u6b22\u8fce\u5173\u6ce8\u3002","title":"AboutMe"},{"location":"#about-me","text":"\u6211\u53eb\u6731\u6613\u8fb0\uff0c\u662f\u4e00\u540d\u5f00\u53d1\u8005\u3002\u6d89\u53ca\u7684\u9886\u57df\u5305\u62ecnginx\u4e8c\u6b21\u5f00\u53d1\u3001\u7f51\u7edc\u8d1f\u8f7d\u5747\u8861\u3001CDN\u7f13\u5b58\u3001FPGA\u9a8c\u8bc1\u3001\u5e95\u5c42\u8f6f\u4ef6\u7b49\u3002\u8fd9\u7f51\u7ad9/\u516c\u4f17\u53f7\u7528\u4e8e\u8bb0\u5f55\u6211\u5bf9\u8f6f\u4ef6\u8bbe\u8ba1\u4e0e\u8f6f\u4ef6\u5de5\u7a0b\u7684\u601d\u8003\u4e0e\u5b9e\u8df5\u3002 \u6211\u73b0\u5c31\u804c\u4e8e \u7f51\u901f\u79d1\u6280 \uff0c\u4ece\u4e8bCDN\u5e95\u5c42\u8f6f\u4ef6\u5f00\u53d1\u3002\u66fe\u5c31\u804c\u4e8e \u534e\u4e3a \u8d1f\u8d23\u57fa\u5e26\u82af\u7247FPGA\u9a8c\u8bc1\u76f8\u5173\u5de5\u4f5c\u3002\u5982\u60a8\u60f3\u548c\u6211\u5171\u4e8b\uff0c\u53ef\u4ee5\u901a\u8fc7\u90ae\u7bb1atskyline@outlook.com\u6216\u8054\u7cfb\u6211\u3002 \u6211\u7684\u516c\u4f17\u53f7 \u5f00\u53d1\u8005\u963f\u6731(atskyline_wx) \uff0c\u6b22\u8fce\u5173\u6ce8\u3002","title":"About Me"},{"location":"nginx\u6e90\u7801\u6ce8\u89e3/filter\u673a\u5236/","text":"\u672c\u6587\u4ecb\u7ecdnginx\u4e2d\u8fc7\u6ee4\u5668\u7684\u8bbe\u8ba1\uff0c\u4ee5\u53ca\u529f\u80fd\u6a21\u5757\u5982\u4f55\u4f7f\u7528\u8fc7\u6ee4\u5668\u3002 nginx\u4e2d\u7684\u8fc7\u6ee4\u5668 nginx\u4e2d\u4e00\u5171\u8bbe\u8ba1\u4e863\u7ec4\u8fc7\u6ee4\u5668\uff0c\u5206\u522b\u7528\u4e8e\u5904\u7406\u8bf7\u6c42\u4f53\u3001\u54cd\u5e94\u5934\u3001\u54cd\u5e94\u4f53\u3002\u5bf9\u5e94\u7684\u4ee3\u7801\u58f0\u660e\u518d ngx_http.c \u4e2d\u3002 ngx_http_output_header_filter_pt ngx_http_top_header_filter; ngx_http_output_body_filter_pt ngx_http_top_body_filter; ngx_http_request_body_filter_pt ngx_http_top_request_body_filter; \u5bf9\u4e8e\u8fc7\u6ee4\u5668\u8bbe\u8ba1\u4e00\u822c\u8981\u7279\u522b\u5173\u6ce8\u6700\u540e\u4e00\u4e2afilter\uff0c\u4e00\u822c\u4f1a\u5173\u5fc3\u5230\u6838\u5fc3\u6d41\u7a0b\u3002\u4e2d\u95f4\u7684filter\u4e00\u822c\u7528\u4e8e\u6a21\u5757\u4e4b\u95f4\u6269\u5c55\uff0c\u6a21\u5757\u6269\u5c55\u65f6\u8981\u6ce8\u610f\u987a\u5e8f\u95ee\u9898\u3002 \u8bf7\u6c42filter \u8bf7\u6c42\u4f53\u7684\u8fc7\u6ee4\u5668\u7528\u5904\u6bd4\u8f83\u5c11\uff0c\u6bd4\u8f83\u5c11\u6709\u6a21\u5757\u5bf9\u5176\u6269\u5c55\u3002\u4e00\u4e2a\u91cd\u8981\u7684filter\u662fngx_http_request_body_save_filter\uff08\uff09`\uff0c\u5b83\u9ed8\u8ba4\u662f\u6700\u540e\u4e00\u4e2afilter\u3002\u884c\u4e3a\u662f\u5c06\u8bf7\u6c42\u6570\u636e\u7f13\u5b58\u5230\u4e34\u65f6\u6587\u4ef6\u4e2d\u3002 \u54cd\u5e94filter \u54cd\u5e94\u6570\u636e\u5206\u4e3aheder\u4e0ebody\u4e24\u90e8\u4efd\u5206\u522b\u5904\u7406\uff0c\u5904\u7406\u65b9\u5f0f\u7c7b\u4f3c\u3002 2\u4e2a\u8fc7\u6ee4\u5668\u94fe\u5206\u522b\u5728 ngx_http_send_header() \u4e0e ngx_http_output_filter() \u4e2d\u8c03\u7528\uff0ccontent\u9636\u6bb5\u7684\u6a21\u5757\u6839\u636e\u6d41\u7a0b\u9700\u8981\u9009\u62e9\u53d1\u9001\u7684\u6570\u636e\u3002 \u6a21\u5757\u6269\u5c55\u7684\u65b9\u5f0f\u7c7b\u4f3c\uff0c\u4e00\u822c\u5728postconfiguration\u9636\u6bb5\uff0c\u5c06\u9700\u8981\u65b0\u589e\u7684filter\u94fe\u63a5\u5230\u5f53\u524d\u5df2\u6709\u94fe\u7684\u6700\u524d\u7aef\u3002\u5b9e\u4f8b\u5982\u4e0b ngx_http_next_header_filter = ngx_http_top_header_filter; ngx_http_top_header_filter = ngx_http_addition_header_filter; ngx_http_next_body_filter = ngx_http_top_body_filter; ngx_http_top_body_filter = ngx_http_addition_body_filter; \u7136\u540e\u5728\u8fc7\u6ee4\u5668\u7684\u5904\u7406\u51fd\u6570\u4e2d\uff0c\u901a\u8fc7\u8c03\u7528 ngx_http_next_xxxx_filter() \u5b9e\u73b0\u540e\u7eed\u8fc7\u6ee4\u5668\u7684\u8c03\u7528\u3002\u793a\u4f8b\u5982\u4e0b static ngx_int_t ngx_http_addition_body_filter(ngx_http_request_t *r, ngx_chain_t *in) { ... return ngx_http_next_body_filter(r, in); ... } \u5bf9\u4e8e\u54cd\u5e94\u7c7b\u7684\u8fc7\u6ee4\u5668\uff0c\u6700\u540e\u4e00\u7ea7\u7684\u8fc7\u6ee4\u5668\u662f ngx_http_header_filter() \u4e0e ngx_http_write_filter() \uff0c\u90fd\u662f\u8bb2\u6570\u636e\u901a\u8fc7send()\u8c03\u7528\u53d1\u9001\u5230\u5ba2\u6237\u7aef\u3002 \u8fc7\u6ee4\u5668\u987a\u5e8f \u7531\u4e8e\u662f\u6bcf\u4e2a\u6a21\u5757\u5355\u72ec\u6ce8\u518c\uff0c\u6240\u4ee5\u8fc7\u6ee4\u5668\u7684\u987a\u5e8f\u4e0e\u6a21\u5757\u7684\u521d\u59cb\u5316\u987a\u5e8f\u76f8\u5173\u3002\u800cnginx\u7684\u8bbe\u8ba1\u4e2d\u9759\u6001\u6a21\u5757\u7684\u521d\u59cb\u5316\u987a\u5e8f\u5176\u5b9e\u662f\u53d6\u51b3\u4e8e\u7f16\u8bd1\u987a\u5e8f\u7684\u3002\u6240\u4ee5\u8981\u6ce8\u610f\u7f16\u8bd1\u9009\u578b\u7684\u987a\u5e8f\uff0c\u6216\u8005\u5728\u6a21\u5757\u7684config\u6587\u4ef6\u4e2d\u663e\u793a\u8bbe\u7f6e\u6a21\u5757\u987a\u5e8f\u3002 \u6ce8\u610f\u4e8b\u9879 \u6839\u636e\u5b9e\u8df5\u7ecf\u9a8c\u5728\u8fc7\u6ee4\u5668\u7684\u4f7f\u7528\u4e0a\u6709\u51e0\u70b9\u8981\u6ce8\u610f\u7684 \u4e00\u4e2a\u8bf7\u6c42body_filter\u8981\u4f1a\u88ab\u591a\u6b21\u8c03\u7528\u3002\u7531\u4e8ebody\u53ef\u80fd\u6bd4\u8f83\u5927\uff0c\u6839\u636e\u4e8b\u4ef6\u7684\u60c5\u51b5\uff0c\u5e76\u4e0d\u4f1a\u6309\u56fa\u5b9a\u7684\u5927\u5c0f\uff0c\u6216\u6570\u636e\u5168\u90e8\u7f13\u5b58\u540e\u624d\u8c03\u7528body_filter\uff0c\u6240\u4ee5\u7f16\u5199\u6a21\u5757\u7684body_filter\u65f6\u8981\u7279\u522b\u6ce8\u610f\u3002\u6bcf\u6b21body_filter\u8c03\u7528\u7684\u6570\u636ebuf\u662f\u4e0d\u5b8c\u6574\u7684\u957f\u5ea6\u4e0d\u53ef\u63a7\u7684\uff0c\u8981\u6ce8\u610f\u9700\u8981\u5904\u7406\u7684\u6570\u636e\u88ab\u5206\u5272\u5230\u591a\u6b21\u8c03\u7528\u4e2d\u3002 body_filter\u8981\u6ce8\u610f\u6570\u636e\u662f\u5426\u7ecf\u8fc7\u538b\u7f29\uff0c\u5982\u679c\u5fc5\u987b\u5bf9\u54cd\u5e94\u7684\u6570\u636e\u8fdb\u884c\u89e3\u6790\uff0c\u8981\u7279\u522b\u6ce8\u610f\u6570\u636e\u88ab\u538b\u7f29\u7684\u573a\u666f\u3002\u5982\u679c\u89e3\u538b\u548c\u6570\u636e\u5904\u7406\u4f7f\u7528\u4e0d\u540c\u6a21\u5757\u5904\u7406\uff0c\u8fd8\u8981\u5173\u6ce8\u6a21\u5757\u7684\u8c03\u7528\u987a\u5e8f\u3002","title":"filter\u673a\u5236"},{"location":"nginx\u6e90\u7801\u6ce8\u89e3/filter\u673a\u5236/#nginx","text":"nginx\u4e2d\u4e00\u5171\u8bbe\u8ba1\u4e863\u7ec4\u8fc7\u6ee4\u5668\uff0c\u5206\u522b\u7528\u4e8e\u5904\u7406\u8bf7\u6c42\u4f53\u3001\u54cd\u5e94\u5934\u3001\u54cd\u5e94\u4f53\u3002\u5bf9\u5e94\u7684\u4ee3\u7801\u58f0\u660e\u518d ngx_http.c \u4e2d\u3002 ngx_http_output_header_filter_pt ngx_http_top_header_filter; ngx_http_output_body_filter_pt ngx_http_top_body_filter; ngx_http_request_body_filter_pt ngx_http_top_request_body_filter; \u5bf9\u4e8e\u8fc7\u6ee4\u5668\u8bbe\u8ba1\u4e00\u822c\u8981\u7279\u522b\u5173\u6ce8\u6700\u540e\u4e00\u4e2afilter\uff0c\u4e00\u822c\u4f1a\u5173\u5fc3\u5230\u6838\u5fc3\u6d41\u7a0b\u3002\u4e2d\u95f4\u7684filter\u4e00\u822c\u7528\u4e8e\u6a21\u5757\u4e4b\u95f4\u6269\u5c55\uff0c\u6a21\u5757\u6269\u5c55\u65f6\u8981\u6ce8\u610f\u987a\u5e8f\u95ee\u9898\u3002","title":"nginx\u4e2d\u7684\u8fc7\u6ee4\u5668"},{"location":"nginx\u6e90\u7801\u6ce8\u89e3/filter\u673a\u5236/#filter","text":"\u8bf7\u6c42\u4f53\u7684\u8fc7\u6ee4\u5668\u7528\u5904\u6bd4\u8f83\u5c11\uff0c\u6bd4\u8f83\u5c11\u6709\u6a21\u5757\u5bf9\u5176\u6269\u5c55\u3002\u4e00\u4e2a\u91cd\u8981\u7684filter\u662fngx_http_request_body_save_filter\uff08\uff09`\uff0c\u5b83\u9ed8\u8ba4\u662f\u6700\u540e\u4e00\u4e2afilter\u3002\u884c\u4e3a\u662f\u5c06\u8bf7\u6c42\u6570\u636e\u7f13\u5b58\u5230\u4e34\u65f6\u6587\u4ef6\u4e2d\u3002","title":"\u8bf7\u6c42filter"},{"location":"nginx\u6e90\u7801\u6ce8\u89e3/filter\u673a\u5236/#filter_1","text":"\u54cd\u5e94\u6570\u636e\u5206\u4e3aheder\u4e0ebody\u4e24\u90e8\u4efd\u5206\u522b\u5904\u7406\uff0c\u5904\u7406\u65b9\u5f0f\u7c7b\u4f3c\u3002 2\u4e2a\u8fc7\u6ee4\u5668\u94fe\u5206\u522b\u5728 ngx_http_send_header() \u4e0e ngx_http_output_filter() \u4e2d\u8c03\u7528\uff0ccontent\u9636\u6bb5\u7684\u6a21\u5757\u6839\u636e\u6d41\u7a0b\u9700\u8981\u9009\u62e9\u53d1\u9001\u7684\u6570\u636e\u3002 \u6a21\u5757\u6269\u5c55\u7684\u65b9\u5f0f\u7c7b\u4f3c\uff0c\u4e00\u822c\u5728postconfiguration\u9636\u6bb5\uff0c\u5c06\u9700\u8981\u65b0\u589e\u7684filter\u94fe\u63a5\u5230\u5f53\u524d\u5df2\u6709\u94fe\u7684\u6700\u524d\u7aef\u3002\u5b9e\u4f8b\u5982\u4e0b ngx_http_next_header_filter = ngx_http_top_header_filter; ngx_http_top_header_filter = ngx_http_addition_header_filter; ngx_http_next_body_filter = ngx_http_top_body_filter; ngx_http_top_body_filter = ngx_http_addition_body_filter; \u7136\u540e\u5728\u8fc7\u6ee4\u5668\u7684\u5904\u7406\u51fd\u6570\u4e2d\uff0c\u901a\u8fc7\u8c03\u7528 ngx_http_next_xxxx_filter() \u5b9e\u73b0\u540e\u7eed\u8fc7\u6ee4\u5668\u7684\u8c03\u7528\u3002\u793a\u4f8b\u5982\u4e0b static ngx_int_t ngx_http_addition_body_filter(ngx_http_request_t *r, ngx_chain_t *in) { ... return ngx_http_next_body_filter(r, in); ... } \u5bf9\u4e8e\u54cd\u5e94\u7c7b\u7684\u8fc7\u6ee4\u5668\uff0c\u6700\u540e\u4e00\u7ea7\u7684\u8fc7\u6ee4\u5668\u662f ngx_http_header_filter() \u4e0e ngx_http_write_filter() \uff0c\u90fd\u662f\u8bb2\u6570\u636e\u901a\u8fc7send()\u8c03\u7528\u53d1\u9001\u5230\u5ba2\u6237\u7aef\u3002","title":"\u54cd\u5e94filter"},{"location":"nginx\u6e90\u7801\u6ce8\u89e3/filter\u673a\u5236/#_1","text":"\u7531\u4e8e\u662f\u6bcf\u4e2a\u6a21\u5757\u5355\u72ec\u6ce8\u518c\uff0c\u6240\u4ee5\u8fc7\u6ee4\u5668\u7684\u987a\u5e8f\u4e0e\u6a21\u5757\u7684\u521d\u59cb\u5316\u987a\u5e8f\u76f8\u5173\u3002\u800cnginx\u7684\u8bbe\u8ba1\u4e2d\u9759\u6001\u6a21\u5757\u7684\u521d\u59cb\u5316\u987a\u5e8f\u5176\u5b9e\u662f\u53d6\u51b3\u4e8e\u7f16\u8bd1\u987a\u5e8f\u7684\u3002\u6240\u4ee5\u8981\u6ce8\u610f\u7f16\u8bd1\u9009\u578b\u7684\u987a\u5e8f\uff0c\u6216\u8005\u5728\u6a21\u5757\u7684config\u6587\u4ef6\u4e2d\u663e\u793a\u8bbe\u7f6e\u6a21\u5757\u987a\u5e8f\u3002","title":"\u8fc7\u6ee4\u5668\u987a\u5e8f"},{"location":"nginx\u6e90\u7801\u6ce8\u89e3/filter\u673a\u5236/#_2","text":"\u6839\u636e\u5b9e\u8df5\u7ecf\u9a8c\u5728\u8fc7\u6ee4\u5668\u7684\u4f7f\u7528\u4e0a\u6709\u51e0\u70b9\u8981\u6ce8\u610f\u7684 \u4e00\u4e2a\u8bf7\u6c42body_filter\u8981\u4f1a\u88ab\u591a\u6b21\u8c03\u7528\u3002\u7531\u4e8ebody\u53ef\u80fd\u6bd4\u8f83\u5927\uff0c\u6839\u636e\u4e8b\u4ef6\u7684\u60c5\u51b5\uff0c\u5e76\u4e0d\u4f1a\u6309\u56fa\u5b9a\u7684\u5927\u5c0f\uff0c\u6216\u6570\u636e\u5168\u90e8\u7f13\u5b58\u540e\u624d\u8c03\u7528body_filter\uff0c\u6240\u4ee5\u7f16\u5199\u6a21\u5757\u7684body_filter\u65f6\u8981\u7279\u522b\u6ce8\u610f\u3002\u6bcf\u6b21body_filter\u8c03\u7528\u7684\u6570\u636ebuf\u662f\u4e0d\u5b8c\u6574\u7684\u957f\u5ea6\u4e0d\u53ef\u63a7\u7684\uff0c\u8981\u6ce8\u610f\u9700\u8981\u5904\u7406\u7684\u6570\u636e\u88ab\u5206\u5272\u5230\u591a\u6b21\u8c03\u7528\u4e2d\u3002 body_filter\u8981\u6ce8\u610f\u6570\u636e\u662f\u5426\u7ecf\u8fc7\u538b\u7f29\uff0c\u5982\u679c\u5fc5\u987b\u5bf9\u54cd\u5e94\u7684\u6570\u636e\u8fdb\u884c\u89e3\u6790\uff0c\u8981\u7279\u522b\u6ce8\u610f\u6570\u636e\u88ab\u538b\u7f29\u7684\u573a\u666f\u3002\u5982\u679c\u89e3\u538b\u548c\u6570\u636e\u5904\u7406\u4f7f\u7528\u4e0d\u540c\u6a21\u5757\u5904\u7406\uff0c\u8fd8\u8981\u5173\u6ce8\u6a21\u5757\u7684\u8c03\u7528\u987a\u5e8f\u3002","title":"\u6ce8\u610f\u4e8b\u9879"},{"location":"nginx\u6e90\u7801\u6ce8\u89e3/reopen\u673a\u5236/","text":"\u672c\u6587\u4e3b\u8981\u5206\u6790nginx\u4e2d\u7684reopen\u673a\u5236\u662f\u5982\u4f55\u8f85\u52a9\u5b9e\u73b0\u65e5\u5fd7\u56de\u6eda\u3001\u4fe1\u53f7\u7684\u57fa\u672c\u5904\u7406\u6d41\u7a0b\u3001master\u4e0eworker\u4e4b\u95f4\u7684\u4fe1\u53f7\u4ea4\u4e92\u3002 nginx\u4e2d\u7684\u65e5\u5fd7\u56de\u6eda \u4ed4\u7ec6\u89c2\u5bdfnginx\u7684\u914d\u7f6e\u9879\u4e2d\u53d1\u73b0\u5e76\u6ca1\u6709\u65e5\u5fd7\u56de\u6eda\u7684\u76f8\u5173\u914d\u7f6e\u3002\u5176\u5b9enginx\u8bbe\u8ba1\u4e2d\u6709\u8003\u8651\u65e5\u5fd7\u56de\u6eda\u7684\u9700\u6c42\u3002\u5b9e\u73b0\u65b9\u5f0f\u5927\u81f4\u5982\u4e0b\uff1a \u91cd\u547d\u540d\u65e5\u5fd7\u6587\u4ef6 \u5411master\u8fdb\u7a0b\u53d1\u751fUSR1\u4fe1\u53f7 \u5f52\u6863\u91cd\u547d\u540d\u540e\u7684\u65e5\u5fd7\u6587\u4ef6 mv access.log access.log.0 kill -USR1 `cat master.nginx.pid` sleep 1 gzip access.log.0 # do something with access.log.0 \u5b98\u7f51\u94fe\u63a5\uff1ahttps://www.nginx.com/resources/wiki/start/topics/examples/logrotation/ \u539f\u7406\u5927\u81f4\u4e3a\u5916\u90e8\u811a\u672c\u91cd\u547d\u540d\u65e5\u5fd7\u6587\u4ef6\u540e\uff0c\u7531\u4e8enginx\u5185\u90e8\u7ef4\u62a4\u7684\u6587\u4ef6\u53e5\u67c4\u6ca1\u6709\u66f4\u65b0\uff0c\u65e5\u5fd7\u5199\u5165\u4f9d\u7136\u80fd\u8bb0\u5f55\u5230\u91cd\u547d\u540d\u540e\u7684\u6587\u4ef6\u4e2d\u3002\u5f53nginx\u6536\u5230USR1\u4fe1\u53f7\uff08nginx\u5185\u90e8\u4e5f\u79f0\u4e3areopen\u4fe1\u53f7\uff09\u540e\uff0c\u91cd\u65b0\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\uff0c\u66f4\u65b0\u6587\u4ef6\u53e5\u67c4\uff0c\u540e\u7eed\u5185\u5bb9\u5c31\u53ef\u4ee5\u91cd\u5199\u5199\u5165\u65e7\u6587\u4ef6\u4e2d\u3002 \u8fd9\u4e2a\u8981\u6c42nginx\u5728\u5168\u5c40\u7ef4\u62a4\u6240\u6709\u6253\u5f00\u7684\u6587\u4ef6\u53e5\u67c4\uff0c\u5e76\u4e14\u80fd\u5728master\u4e0eworker\u8fdb\u7a0b\u90fd\u5904\u7406reopen\u4fe1\u53f7\u3002 reopen\u4fe1\u53f7\u5904\u7406\u6d41\u7a0b \u4fe1\u53f7\u5904\u7406\u51fd\u6570 ngx_signal_handler() \uff0c\u63a5\u53d7\u5230reopen\u4fe1\u53f7\u540e\u5c06\u5168\u5c40\u53d8\u91cf ngx_reopen \u7f6e1\u3002 master\u8fdb\u7a0b\u4e3b\u5faa\u73af ngx_master_process_cycle() \uff0c\u68c0\u6d4b\u5230 ngx_reopen \u7f6e1\u540e\u6267\u884c ngx_reopen_files() \uff0c\u5e76\u5c06\u4fe1\u53f7\u4f20\u9012\u5230worker\u8fdb\u7a0b\u4e2d\u3002 worker\u8fdb\u7a0b\u4f4f\u5faa\u73af ngx_worker_process_cycle \uff0c\u68c0\u6d4b\u5230 ngx_reopen \u7f6e1\u540e\u6267\u884c ngx_reopen_files() \u3002 ngx_reopen_files() \u51fd\u6570\u4e2d\u904d\u5386\u6240\u6709\u5df2\u6253\u5f00\u7684\u6587\u4ef6\uff0c\u5c06\u89e6\u53d1\u7f13\u5b58flush\u8fdb\u6587\u4ef6\u3001\u91cd\u65b0\u6253\u5f00\u6587\u4ef6\u83b7\u5f97\u65b0\u53e5\u67c4\u3001\u5173\u95ed\u539f\u53e5\u67c4\u3002 \u6587\u4ef6\u7ba1\u7406 \u6240\u6709\u6587\u4ef6\u6253\u5f00\u7684\u4fe1\u606f\u4fdd\u5b58\u5728\u5168\u5c40 cycle->open_files \u4e2d\u3002 \u6587\u4ef6\u6253\u5f00\u65f6\u4f7f\u7528 ngx_conf_open_file() \u51fd\u6570\u8fdb\u884copen\u3002 \u5728 ngx_init_cycle() \u4e2d\u7684\u6700\u540e /* open the new files */ \u4f1a\u771f\u6b63\u6253\u5f00\u6587\u4ef6\u83b7\u53d6\u53e5\u67c4\u3002","title":"reopen\u673a\u5236"},{"location":"nginx\u6e90\u7801\u6ce8\u89e3/reopen\u673a\u5236/#nginx","text":"\u4ed4\u7ec6\u89c2\u5bdfnginx\u7684\u914d\u7f6e\u9879\u4e2d\u53d1\u73b0\u5e76\u6ca1\u6709\u65e5\u5fd7\u56de\u6eda\u7684\u76f8\u5173\u914d\u7f6e\u3002\u5176\u5b9enginx\u8bbe\u8ba1\u4e2d\u6709\u8003\u8651\u65e5\u5fd7\u56de\u6eda\u7684\u9700\u6c42\u3002\u5b9e\u73b0\u65b9\u5f0f\u5927\u81f4\u5982\u4e0b\uff1a \u91cd\u547d\u540d\u65e5\u5fd7\u6587\u4ef6 \u5411master\u8fdb\u7a0b\u53d1\u751fUSR1\u4fe1\u53f7 \u5f52\u6863\u91cd\u547d\u540d\u540e\u7684\u65e5\u5fd7\u6587\u4ef6 mv access.log access.log.0 kill -USR1 `cat master.nginx.pid` sleep 1 gzip access.log.0 # do something with access.log.0 \u5b98\u7f51\u94fe\u63a5\uff1ahttps://www.nginx.com/resources/wiki/start/topics/examples/logrotation/ \u539f\u7406\u5927\u81f4\u4e3a\u5916\u90e8\u811a\u672c\u91cd\u547d\u540d\u65e5\u5fd7\u6587\u4ef6\u540e\uff0c\u7531\u4e8enginx\u5185\u90e8\u7ef4\u62a4\u7684\u6587\u4ef6\u53e5\u67c4\u6ca1\u6709\u66f4\u65b0\uff0c\u65e5\u5fd7\u5199\u5165\u4f9d\u7136\u80fd\u8bb0\u5f55\u5230\u91cd\u547d\u540d\u540e\u7684\u6587\u4ef6\u4e2d\u3002\u5f53nginx\u6536\u5230USR1\u4fe1\u53f7\uff08nginx\u5185\u90e8\u4e5f\u79f0\u4e3areopen\u4fe1\u53f7\uff09\u540e\uff0c\u91cd\u65b0\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\uff0c\u66f4\u65b0\u6587\u4ef6\u53e5\u67c4\uff0c\u540e\u7eed\u5185\u5bb9\u5c31\u53ef\u4ee5\u91cd\u5199\u5199\u5165\u65e7\u6587\u4ef6\u4e2d\u3002 \u8fd9\u4e2a\u8981\u6c42nginx\u5728\u5168\u5c40\u7ef4\u62a4\u6240\u6709\u6253\u5f00\u7684\u6587\u4ef6\u53e5\u67c4\uff0c\u5e76\u4e14\u80fd\u5728master\u4e0eworker\u8fdb\u7a0b\u90fd\u5904\u7406reopen\u4fe1\u53f7\u3002","title":"nginx\u4e2d\u7684\u65e5\u5fd7\u56de\u6eda"},{"location":"nginx\u6e90\u7801\u6ce8\u89e3/reopen\u673a\u5236/#reopen","text":"\u4fe1\u53f7\u5904\u7406\u51fd\u6570 ngx_signal_handler() \uff0c\u63a5\u53d7\u5230reopen\u4fe1\u53f7\u540e\u5c06\u5168\u5c40\u53d8\u91cf ngx_reopen \u7f6e1\u3002 master\u8fdb\u7a0b\u4e3b\u5faa\u73af ngx_master_process_cycle() \uff0c\u68c0\u6d4b\u5230 ngx_reopen \u7f6e1\u540e\u6267\u884c ngx_reopen_files() \uff0c\u5e76\u5c06\u4fe1\u53f7\u4f20\u9012\u5230worker\u8fdb\u7a0b\u4e2d\u3002 worker\u8fdb\u7a0b\u4f4f\u5faa\u73af ngx_worker_process_cycle \uff0c\u68c0\u6d4b\u5230 ngx_reopen \u7f6e1\u540e\u6267\u884c ngx_reopen_files() \u3002 ngx_reopen_files() \u51fd\u6570\u4e2d\u904d\u5386\u6240\u6709\u5df2\u6253\u5f00\u7684\u6587\u4ef6\uff0c\u5c06\u89e6\u53d1\u7f13\u5b58flush\u8fdb\u6587\u4ef6\u3001\u91cd\u65b0\u6253\u5f00\u6587\u4ef6\u83b7\u5f97\u65b0\u53e5\u67c4\u3001\u5173\u95ed\u539f\u53e5\u67c4\u3002","title":"reopen\u4fe1\u53f7\u5904\u7406\u6d41\u7a0b"},{"location":"nginx\u6e90\u7801\u6ce8\u89e3/reopen\u673a\u5236/#_1","text":"\u6240\u6709\u6587\u4ef6\u6253\u5f00\u7684\u4fe1\u606f\u4fdd\u5b58\u5728\u5168\u5c40 cycle->open_files \u4e2d\u3002 \u6587\u4ef6\u6253\u5f00\u65f6\u4f7f\u7528 ngx_conf_open_file() \u51fd\u6570\u8fdb\u884copen\u3002 \u5728 ngx_init_cycle() \u4e2d\u7684\u6700\u540e /* open the new files */ \u4f1a\u771f\u6b63\u6253\u5f00\u6587\u4ef6\u83b7\u53d6\u53e5\u67c4\u3002","title":"\u6587\u4ef6\u7ba1\u7406"},{"location":"nginx\u6e90\u7801\u6ce8\u89e3/server\u7684\u67e5\u627e/","text":"\u672c\u6587\u4ecb\u7ecd\u5728nginx\u4e2dhttp\u8bf7\u6c42\u63a5\u6536\u540e\uff0c\u5982\u4f55\u67e5\u627e\u5230\u5bf9\u5e94\u7684srv_conf\u5bf9\u8c61\u3002 server_name\u4e0elisten\u914d\u7f6e\u9879 \u5f71\u54cdserver\u9009\u62e9\u7684\u6700\u4e3b\u8981\u914d\u7f6e\u9879\u9664\u4e86server_name\uff0c\u8fd8\u6709listen\u3002\u6709\u51e0\u4e2a\u5173\u952e\u70b9 \u8bf7\u6c42\u7684IP:PORT\u9700\u8981\u4e0eserver\u4e2d\u7684listen\u4e00\u81f4\u3002 server_name\u7684\u5339\u914d\u4f18\u5148\u7ea7\u662f\uff1a\u7cbe\u786e\u5339\u914d>\u540e\u7f00\u5339\u914d>\u524d\u7f00\u5339\u914d>\u6b63\u5219\u5339\u914d \u5982\u679c\u65e0\u6cd5\u901a\u8fc7server_name\u65e0\u6cd5\u5339\u914d\u5408\u9002\u7684server\uff0c\u8bf7\u6c42\u5c06\u5728IP:PORT\u5bf9\u5e94\u7684\u9ed8\u8ba4server\u4e2d\u5904\u7406\u3002\uff08\u6bcf\u4e00\u7ec4\u76d1\u542cIP:PORT\u90fd\u6709\u4e00\u4e2a\u9ed8\u8ba4server\uff0c\u901a\u8fc7default_server\u8bbe\u7f6e\u6216\u7b2c\u4e00\u4e2a\u5bf9\u5e94\u8bbe\u7f6e\u76d1\u542c\u7684server\uff09\u3002 server\u7684\u67e5\u627e\u8fc7\u7a0b \u5728 ngx_http_init_connection() \u4e2d\u5148\u5bf9connect\u8bbe\u7f6e\u4e00\u4e2a\u9ed8\u8ba4\u7684server \u5bf9\u4e8eSSL\u8bf7\u6c42\uff0c\u5728SNI\u7684\u56de\u8c03\u7528\u4f1a\u4f7f\u7528 ngx_http_ssl_servername() \u91cd\u65b0\u8bbe\u7f6econnect\u4e2d\u7684server \u5728 ngx_http_create_request() \u65f6request\u4f7f\u7528hc\u7684server\u7ed3\u679c \u5728 ngx_http_process_request_line() \u548c ngx_http_process_request_header() \u89e3\u6790\u83b7\u5f97\u8bf7\u6c42\u884c\u6216\u8bf7\u6c42\u5934\u4e2d\u7684HOST\u4fe1\u606f\u540e\u5c06\u8c03\u7528 ngx_http_set_virtual_server() \u67e5\u627e\u6700\u7ec8\u4f7f\u7528\u7684server\u5bf9\u8c61\u3002 \u4fee\u6539server\u7684\u6838\u5fc3\u4ee3\u7801 // cscf\u662f\u65b0\u67e5\u627e\u5230\u7684server\u5bf9\u8c61 r->srv_conf = cscf->ctx->srv_conf; r->loc_conf = cscf->ctx->loc_conf;","title":"server\u7684\u67e5\u627e"},{"location":"nginx\u6e90\u7801\u6ce8\u89e3/server\u7684\u67e5\u627e/#server_namelisten","text":"\u5f71\u54cdserver\u9009\u62e9\u7684\u6700\u4e3b\u8981\u914d\u7f6e\u9879\u9664\u4e86server_name\uff0c\u8fd8\u6709listen\u3002\u6709\u51e0\u4e2a\u5173\u952e\u70b9 \u8bf7\u6c42\u7684IP:PORT\u9700\u8981\u4e0eserver\u4e2d\u7684listen\u4e00\u81f4\u3002 server_name\u7684\u5339\u914d\u4f18\u5148\u7ea7\u662f\uff1a\u7cbe\u786e\u5339\u914d>\u540e\u7f00\u5339\u914d>\u524d\u7f00\u5339\u914d>\u6b63\u5219\u5339\u914d \u5982\u679c\u65e0\u6cd5\u901a\u8fc7server_name\u65e0\u6cd5\u5339\u914d\u5408\u9002\u7684server\uff0c\u8bf7\u6c42\u5c06\u5728IP:PORT\u5bf9\u5e94\u7684\u9ed8\u8ba4server\u4e2d\u5904\u7406\u3002\uff08\u6bcf\u4e00\u7ec4\u76d1\u542cIP:PORT\u90fd\u6709\u4e00\u4e2a\u9ed8\u8ba4server\uff0c\u901a\u8fc7default_server\u8bbe\u7f6e\u6216\u7b2c\u4e00\u4e2a\u5bf9\u5e94\u8bbe\u7f6e\u76d1\u542c\u7684server\uff09\u3002","title":"server_name\u4e0elisten\u914d\u7f6e\u9879"},{"location":"nginx\u6e90\u7801\u6ce8\u89e3/server\u7684\u67e5\u627e/#server","text":"\u5728 ngx_http_init_connection() \u4e2d\u5148\u5bf9connect\u8bbe\u7f6e\u4e00\u4e2a\u9ed8\u8ba4\u7684server \u5bf9\u4e8eSSL\u8bf7\u6c42\uff0c\u5728SNI\u7684\u56de\u8c03\u7528\u4f1a\u4f7f\u7528 ngx_http_ssl_servername() \u91cd\u65b0\u8bbe\u7f6econnect\u4e2d\u7684server \u5728 ngx_http_create_request() \u65f6request\u4f7f\u7528hc\u7684server\u7ed3\u679c \u5728 ngx_http_process_request_line() \u548c ngx_http_process_request_header() \u89e3\u6790\u83b7\u5f97\u8bf7\u6c42\u884c\u6216\u8bf7\u6c42\u5934\u4e2d\u7684HOST\u4fe1\u606f\u540e\u5c06\u8c03\u7528 ngx_http_set_virtual_server() \u67e5\u627e\u6700\u7ec8\u4f7f\u7528\u7684server\u5bf9\u8c61\u3002","title":"server\u7684\u67e5\u627e\u8fc7\u7a0b"},{"location":"nginx\u6e90\u7801\u6ce8\u89e3/server\u7684\u67e5\u627e/#server_1","text":"// cscf\u662f\u65b0\u67e5\u627e\u5230\u7684server\u5bf9\u8c61 r->srv_conf = cscf->ctx->srv_conf; r->loc_conf = cscf->ctx->loc_conf;","title":"\u4fee\u6539server\u7684\u6838\u5fc3\u4ee3\u7801"},{"location":"nginx\u6e90\u7801\u6ce8\u89e3/\u6a21\u5757\u7ba1\u7406/","text":"\u672c\u6587\u4ecb\u7ecdnginx\u7684\u6838\u5fc3\u6a21\u5757\u7ba1\u7406\u673a\u5236\u3002\u4e3b\u8981\u6d89\u53ca ngx_modules[] \u53d8\u91cf\u7684\u4f7f\u7528\u3002 \u6a21\u5757\u521d\u59cb\u5316\u5173\u952e\u6b65\u9aa4 \u901a\u8fc7\u7f16\u8bd1\u811a\u672c\u751f\u6210 ngx_modules[] \u4e0e ngx_module_names[] \u8fd92\u4e2a\u53d8\u91cf\u7684\u5177\u4f53\u503c\u3002 \u5728 ngx_init_cycle() \u4e4b\u524d\u8c03\u7528 ngx_preinit_modules() \u521d\u59cb\u5316\u6a21\u5757\u7684\u7d22\u5f15\u4fe1\u606f\u3002 \u5728 ngx_init_cycle() \u4e2d\u8c03\u7528 ngx_cycle_modules\uff08\uff09 \u5c06\u6a21\u5757\u4fe1\u606f\u4fdd\u5b58\u5728 cycle->modules[] \u4e4b\u4e2d\u3002 \u5728 ngx_init_cycle() \u7684\u6700\u540e\u90e8\u5206\u8c03\u7528 ngx_init_modules() \u56de\u8c03\u5404\u4e2a\u6a21\u5757\u5b9a\u4e49\u7684 init_module \u65b9\u6cd5\u3002 \u5173\u4e8ectx_index\u4e0eindex ngx_module_t.index \u5c5e\u6027\u7528\u4e8e\u5168\u90e8\u6a21\u5757\u7684\u7d22\u5f15\uff0c\u5bf9\u5e94\u7684\u662f ngx_modules[] \u6216 cycle->modules[] \u7684\u4e0b\u6807\u3002 ngx_module_t.ctx_index \u5c5e\u6027\u7528\u4e8e\u4e0d\u540c\u7c7b\u578b\u6a21\u5757\uff0c\u4f8b\u5982http\u6a21\u5757\u3001stream\u6a21\u5757\u4e2d\u7684 cf->ctx[] \u4e0b\u6807\u3002 \u4e3a\u4e86\u8282\u7701\u7a7a\u95f4\uff0c\u5e76\u4e14\u4fdd\u8bc1reload\u5931\u8d25\u65f6\u914d\u7f6e\u80fd\u6b63\u786e\u56de\u6eda\uff0c ctx_index \u7684\u503c\u987a\u5e8f\u4e0e index \u7684\u987a\u5e8f\u662f\u6ca1\u6709\u5173\u7cfb\u7684\u3002","title":"\u6a21\u5757\u7ba1\u7406"},{"location":"nginx\u6e90\u7801\u6ce8\u89e3/\u6a21\u5757\u7ba1\u7406/#_1","text":"\u901a\u8fc7\u7f16\u8bd1\u811a\u672c\u751f\u6210 ngx_modules[] \u4e0e ngx_module_names[] \u8fd92\u4e2a\u53d8\u91cf\u7684\u5177\u4f53\u503c\u3002 \u5728 ngx_init_cycle() \u4e4b\u524d\u8c03\u7528 ngx_preinit_modules() \u521d\u59cb\u5316\u6a21\u5757\u7684\u7d22\u5f15\u4fe1\u606f\u3002 \u5728 ngx_init_cycle() \u4e2d\u8c03\u7528 ngx_cycle_modules\uff08\uff09 \u5c06\u6a21\u5757\u4fe1\u606f\u4fdd\u5b58\u5728 cycle->modules[] \u4e4b\u4e2d\u3002 \u5728 ngx_init_cycle() \u7684\u6700\u540e\u90e8\u5206\u8c03\u7528 ngx_init_modules() \u56de\u8c03\u5404\u4e2a\u6a21\u5757\u5b9a\u4e49\u7684 init_module \u65b9\u6cd5\u3002","title":"\u6a21\u5757\u521d\u59cb\u5316\u5173\u952e\u6b65\u9aa4"},{"location":"nginx\u6e90\u7801\u6ce8\u89e3/\u6a21\u5757\u7ba1\u7406/#ctx_indexindex","text":"ngx_module_t.index \u5c5e\u6027\u7528\u4e8e\u5168\u90e8\u6a21\u5757\u7684\u7d22\u5f15\uff0c\u5bf9\u5e94\u7684\u662f ngx_modules[] \u6216 cycle->modules[] \u7684\u4e0b\u6807\u3002 ngx_module_t.ctx_index \u5c5e\u6027\u7528\u4e8e\u4e0d\u540c\u7c7b\u578b\u6a21\u5757\uff0c\u4f8b\u5982http\u6a21\u5757\u3001stream\u6a21\u5757\u4e2d\u7684 cf->ctx[] \u4e0b\u6807\u3002 \u4e3a\u4e86\u8282\u7701\u7a7a\u95f4\uff0c\u5e76\u4e14\u4fdd\u8bc1reload\u5931\u8d25\u65f6\u914d\u7f6e\u80fd\u6b63\u786e\u56de\u6eda\uff0c ctx_index \u7684\u503c\u987a\u5e8f\u4e0e index \u7684\u987a\u5e8f\u662f\u6ca1\u6709\u5173\u7cfb\u7684\u3002","title":"\u5173\u4e8ectx_index\u4e0eindex"},{"location":"nginx\u6e90\u7801\u6ce8\u89e3/\u6e90\u7801\u6587\u4ef6\u5206\u6790/","text":"\u672c\u6587\u76ee\u7684\u4e3b\u8981\u4ece\u5b8f\u89c2\u5c42\u9762\u5206\u6790nginx\u6e90\u7801\uff0c\u5bf9nginx\u6e90\u7801\u6587\u4ef6\u8fdb\u884c\u5206\u7c7b\uff0c\u5e76\u5206\u6790\u5176\u4f9d\u8d56\u5173\u7cfb\u3002\u5e2e\u52a9\u7406\u89e3nginx\u6e90\u7801\u5b8f\u89c2\u7ed3\u6784\uff0c\u5bf9\u9605\u8bfb\u6e90\u7801\u8d77\u6307\u5f15\u4f5c\u7528\u3002 \u6e90\u7801\u76ee\u5f55 src \u251c\u2500\u2500 core \u251c\u2500\u2500 os \u2502 \u2514\u2500\u2500 unix \u251c\u2500\u2500 event \u2502 \u2514\u2500\u2500 modules \u251c\u2500\u2500 http \u2502 \u251c\u2500\u2500 modules \u2502 \u2502 \u2514\u2500\u2500 perl \u2502 \u2514\u2500\u2500 v2 \u251c\u2500\u2500 mail \u251c\u2500\u2500 stream \u2514\u2500\u2500 misc \u8fd9\u51e0\u4e2a\u76ee\u5f55\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\u5982\u4e0b\uff1a \u6211\u4eec\u53ef\u4ee5\u770b\u51fa\u51e0\u70b9 core\u3001os\u3001event\u662fnginx\u7684\u6838\u5fc3\u800c\u4e143\u4e2a\u76ee\u5f55\u4e4b\u95f4\u7684\u4ee3\u7801\u90fd\u6709\u5faa\u73af\u4f9d\u8d56 http\u3001mail\u3001stream3\u7c7b\u6a21\u5757\u4f9d\u8d56\u4e8e\u5e95\u5c42\u6a21\u5757\uff0c\u4e0d\u5b58\u5728\u53cd\u5411\u4f9d\u8d56 core\u4e0eos\u76ee\u5f55\u7684\u5b9a\u4f4d\u90fd\u662f\u5e95\u5c42\u6a21\u5757\uff0cos\u5305\u62ec\u5404\u7c7b\u7cfb\u7edf\u517c\u5bb9\u7684\u5904\u7406 core\u4e0eos\u4e2d\u7684\u6587\u4ef6\u53ef\u4ee5\u518d\u5927\u81f4\u7684\u533a\u5206\u4e3a2\u7c7b \u57fa\u7840\u5e93\u5c01\u88c5\uff0c\u4e92\u76f8\u4e4b\u95f4\u4f9d\u8d56\u8f83\u5c11\u3001\u6ca1\u6709\u590d\u6742\u7684\u5904\u7406\u6d41\u7a0b\u3002\u4f8b\u5982ngx_array\u3001ngx_md5\u3001ngx_palloc\u3001ngx_rbtree\u7b49\u7b49 nginx\u57fa\u7840\u6d41\u7a0b\uff0c\u5305\u62ec\u542f\u52a8\u6d41\u7a0b\u3001\u8fdb\u7a0b\u7ba1\u7406\u3001\u6a21\u5757\u7ba1\u7406\u7b49\u7b49\u3002\u5178\u578b\u6587\u4ef6\u5305\u62ecnginx\u3001ngx_cycle\u3001ngx_process_cycle\u7b49\u7b49 core\u4e0eos\u6587\u4ef6\u5206\u7c7b \u6211\u5c06core\u4e0eos2\u4e2a\u6587\u4ef6\u5939\u4e0b\u7684\u6587\u4ef6\u8fdb\u884c\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u5206\u7c7b core \u6838\u5fc3\u6d41\u7a0b\uff0c\u9700\u8981\u91cd\u70b9\u7814\u7a76 utils \u57fa\u7840\u5e93\uff0c\u4f9b\u6838\u5fc3\u6d41\u7a0b\u4f7f\u7528\uff0c\u4e0d\u5f71\u54cd\u6838\u5fc3\u6d41\u7a0b utils(use ngx_cycle->log)\u57fa\u7840\u5e93\uff0c\u4f46\u662f\u4e3a\u4e86\u8c03\u8bd5\uff0c\u4f7f\u7528\u5230\u4e86ngx_cycle->log\u53d8\u91cf\uff0c\u53ef\u4ee5\u7b80\u5355\u4e0eutils\u653e\u5728\u4e00\u8d77\u3002 utils(use core) \u4f1a\u5f71\u54cd\u5230\u6838\u5fc3\u6d41\u7a0b\uff0c\u6216\u53d7\u6838\u5fc3\u6d41\u7a0b\u5f71\u54cd\u7684\u51e0\u4e2a\u5e93\uff0c\u4e3b\u8981\u4f53\u73b0\u662f\u4f7f\u7528\u5230\u4e86\u4e00\u4e9b\u5b9a\u4e49\u72b6\u6001\u7684\u5168\u5c40\u53d8\u91cf\u3002 \u540e2\u7c7b\u6587\u4ef6\u5982\u679c\u80fd\u5c06\u5176\u4e0ecore\u89e3\u8026\u7684\u8bdd\u5c31\u66f4\u597d\u4e86\u3002 \u5177\u4f53\u5206\u7c7b\u5982\u4e0b \"core\": { \"files\": [ \"ngx_process_cycle.o\", \"ngx_cycle.o\", \"ngx_module.o\", \"nginx.o\" ] }, \"utils\": { \"files\": [ \"ngx_setaffinity.o\", \"ngx_errno.o\", \"ngx_linux_sendfile_chain.o\", \"ngx_time.o\", \"ngx_send.o\", \"ngx_readv_chain.o\", \"ngx_recv.o\", \"ngx_md5.o\", \"ngx_radix_tree.o\", \"ngx_palloc.o\", \"ngx_spinlock.o\", \"ngx_rwlock.o\", \"ngx_sha1.o\", \"ngx_queue.o\", \"ngx_times.o\", \"ngx_rbtree.o\", \"ngx_parse.o\", \"ngx_array.o\", \"ngx_proxy_protocol.o\", \"ngx_buf.o\", \"ngx_regex.o\", \"ngx_list.o\", \"ngx_crypt.o\", \"ngx_alloc.o\", \"ngx_channel.o\", \"ngx_dlopen.o\", \"ngx_shmem.o\", \"ngx_udp_sendmsg_chain.o\", \"ngx_udp_send.o\", \"ngx_writev_chain.o\", \"ngx_user.o\", \"ngx_socket.o\", \"ngx_udp_recv.o\", \"ngx_linux_init.o\", \"ngx_file.o\", \"ngx_inet.o\", \"ngx_resolver.o\", \"ngx_output_chain.o\", \"ngx_files.o\", \"ngx_parse_time.o\", \"ngx_murmurhash.o\", \"ngx_cpuinfo.o\" ] }, \"utils(use ngx_cycle->log)\": { \"files\": [ \"ngx_shmtx.o\", \"ngx_crc32.o\", \"ngx_hash.o\", \"ngx_process.o\", \"ngx_setproctitle.o\", \"ngx_slab.o\", \"ngx_syslog.o\", \"ngx_open_file_cache.o\", \"ngx_string.o\" ] }, \"utils(use core)\": { \"files\": [ \"ngx_log.o\", \"ngx_connection.o\", \"ngx_conf_file.o\", \"ngx_posix_init.o\", \"ngx_daemon.o\" ] } HTTP\u6587\u4ef6\u5206\u6790 http\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u642d\u5efa\u4e86\u4e00\u5957http\u7684\u5904\u7406\u6846\u67b6\uff0c\u4e0d\u4ec5\u80fd\u9ad8\u6548\u652f\u6301http\u8bf7\u6c42\u5904\u7406\uff0c\u8fd8\u80fd\u4f7f\u7528\u5b9a\u4e49\u7684\u63a5\u53e3\u5bf9http\u5904\u7406\u8fdb\u884c\u6269\u5c55\u3002 http_core\u662fHTTP\u6a21\u5757\u7684\u6838\u5fc3\uff0c\u5305\u62ec\u4e86\u5904\u7406\u6846\u67b6\u548c\u6d41\u7a0b\u673a\u5236\u3002http2\u7684\u652f\u6301\u5176\u5b9e\u4e5f\u53ef\u4ee5\u5f52\u5e76\u5230\u8fd9\u4e2a\u7c7b\u522b\u4e2d http_module\u662f\u5e38\u89c1\u7684\u6269\u5c55\uff0c\u53ef\u4ee5\u5ea7\u4f4d\u81ea\u5b9a\u4e49\u6a21\u5757\u7684\u53c2\u8003 http_upstream\u4e0ehttp_proxy\u662f2\u7c7b\u5e38\u89c1\u7684\u4e0e\u540e\u7aef\u76f8\u5173\u7684\u6269\u5c55\u6a21\u5757 ngx_http_grpc_module\u672c\u60f3\u5f52\u7c7b\u5728http_proxy\u4e2d\u7684\uff0c\u7531\u4e8e\u5176\u7279\u6b8a\u6027\u76f4\u63a5\u4f9d\u8d56\u4e86http_v2\u7684\u90e8\u5206\u529f\u80fd\uff0c\u6240\u4ee5\u5355\u72ec\u5217\u51fa\u3002 \u5177\u4f53\u5206\u7c7b\u65b9\u5f0f\u5982\u4e0b: \"http_core\": { \"files\": [ \"ngx_http.o\", \"ngx_http_request.o\", \"ngx_http_variables.o\", \"ngx_http_request_body.o\", \"ngx_http_core_module.o\", \"ngx_http_file_cache.o\", \"ngx_http_script.o\", \"ngx_http_parse.o\", \"ngx_http_postpone_filter_module.o\", \"ngx_http_special_response.o\", \"ngx_http_ssl_module.o\" ] }, \"http_proxy\": { \"files\": [ \"ngx_http_proxy_module.o\", \"ngx_http_scgi_module.o\", \"ngx_http_fastcgi_module.o\", \"ngx_http_uwsgi_module.o\", \"ngx_http_memcached_module.o\" ] }, \"http_upstream\": { \"files\": [ \"ngx_http_upstream.o\", \"ngx_http_upstream_round_robin.o\", \"ngx_http_upstream_least_conn_module.o\", \"ngx_http_upstream_ip_hash_module.o\", \"ngx_http_upstream_zone_module.o\", \"ngx_http_upstream_hash_module.o\", \"ngx_http_upstream_keepalive_module.o\", \"ngx_http_upstream_random_module.o\" ] }, \"http_module\": { \"files\": [ \"ngx_http_header_filter_module.o\", \"ngx_http_copy_filter_module.o\", \"ngx_http_userid_filter_module.o\", \"ngx_http_headers_filter_module.o\", \"ngx_http_map_module.o\", \"ngx_http_charset_filter_module.o\", \"ngx_http_index_module.o\", \"ngx_http_limit_conn_module.o\", \"ngx_http_static_module.o\", \"ngx_http_access_module.o\", \"ngx_http_auth_basic_module.o\", \"ngx_http_range_filter_module.o\", \"ngx_http_empty_gif_module.o\", \"ngx_http_not_modified_filter_module.o\", \"ngx_http_mirror_module.o\", \"ngx_http_split_clients_module.o\", \"ngx_http_try_files_module.o\", \"ngx_http_chunked_filter_module.o\", \"ngx_http_geo_module.o\", \"ngx_http_rewrite_module.o\", \"ngx_http_ssi_filter_module.o\", \"ngx_http_log_module.o\", \"ngx_http_autoindex_module.o\", \"ngx_http_gzip_filter_module.o\", \"ngx_http_limit_req_module.o\", \"ngx_http_browser_module.o\", \"ngx_http_referer_module.o\", \"ngx_http_write_filter_module.o\" ] }, \"http_v2\": { \"files\": [ \"ngx_http_v2_module.o\", \"ngx_http_v2_filter_module.o\", \"ngx_http_v2.o\", \"ngx_http_v2_encode.o\", \"ngx_http_v2_huff_decode.o\", \"ngx_http_v2_huff_encode.o\", \"ngx_http_v2_table.o\" ] } \u4ee3\u7801\u590d\u6742\u5ea6\u5206\u6790 \u5206\u6790nginx\u4ee3\u7801\u4e2d\u590d\u6742\u5ea6\u6700\u9ad8\u7684\u51e0\u4e2a\u51fd\u6570\uff0c\u5176\u4e2dNLOC\u8868\u793a\u65e0\u6ce8\u91ca\u7684\u4ee3\u7801\u884c\u6570\u3001CCN\u8868\u793a\u5708\u590d\u6742\u5ea6\u3001PARAM\u8868\u793a\u51fd\u6570\u53c2\u6570\u4e2a\u6570\u3001length\u8868\u793a\u603b\u884c\u6570\u3002 ======================================== NLOC CCN PARAM length location ---------------------------------------- 588 151 1 829 ngx_init_cycle 352 133 1 404 ngx_mail_imap_parse_command 413 103 9 652 ngx_resolver_process_a 599 98 2 739 ngx_http_parse_request_line 386 89 1 537 ngx_http_v2_header_filter 331 86 1 465 ngx_http_header_filter 185 85 1 235 ngx_mail_smtp_parse_command 181 85 2 263 ngx_parse_http_time 390 83 2 523 ngx_http_ssi_body_filter 104 82 4 142 ngx_ssl_connection_error 274 76 1 393 ngx_event_pipe_read_upstream 313 73 2 463 ngx_http_grpc_filter 156 71 1 221 ngx_http_v2_push_resources 355 69 1 486 ngx_http_fastcgi_create_request 240 64 1 365 ngx_http_grpc_process_header 231 63 2 341 ngx_http_upstream_send_response 293 62 1 439 ngx_http_fastcgi_process_header 349 60 3 494 ngx_http_proxy_merge_loc_conf 228 60 4 343 ngx_open_cached_file \u6211\u4eec\u53ef\u4ee5\u770b\u5230\u51e0\u70b9 \u89e3\u6790\u548c\u6784\u9020\u6570\u636e\u7684\u51fd\u6570\u590d\u6742\u5ea6\u7279\u522b\u9ad8\uff0c\u4f46\u4ee3\u7801\u7a33\u5b9a\uff0c\u5982\u679c\u9700\u8981\u8c03\u6574\uff0c\u9700\u8981\u6709\u5927\u91cf\u6d4b\u8bd5\u7528\u4f8b\u4fdd\u969c ngx_init_cycle\u662f\u542f\u52a8\u7684\u6838\u5fc3\u6d41\u7a0b\uff0c\u6d89\u53ca\u8303\u56f4\u5e7f\u3001\u4f46\u7f3a\u5c11\u5408\u7406\u5c01\u88c5\uff0c\u8981\u4ed4\u7ec6\u5bf9\u5f85\u3002","title":"\u6e90\u7801\u6587\u4ef6\u5206\u6790"},{"location":"nginx\u6e90\u7801\u6ce8\u89e3/\u6e90\u7801\u6587\u4ef6\u5206\u6790/#_1","text":"src \u251c\u2500\u2500 core \u251c\u2500\u2500 os \u2502 \u2514\u2500\u2500 unix \u251c\u2500\u2500 event \u2502 \u2514\u2500\u2500 modules \u251c\u2500\u2500 http \u2502 \u251c\u2500\u2500 modules \u2502 \u2502 \u2514\u2500\u2500 perl \u2502 \u2514\u2500\u2500 v2 \u251c\u2500\u2500 mail \u251c\u2500\u2500 stream \u2514\u2500\u2500 misc \u8fd9\u51e0\u4e2a\u76ee\u5f55\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\u5982\u4e0b\uff1a \u6211\u4eec\u53ef\u4ee5\u770b\u51fa\u51e0\u70b9 core\u3001os\u3001event\u662fnginx\u7684\u6838\u5fc3\u800c\u4e143\u4e2a\u76ee\u5f55\u4e4b\u95f4\u7684\u4ee3\u7801\u90fd\u6709\u5faa\u73af\u4f9d\u8d56 http\u3001mail\u3001stream3\u7c7b\u6a21\u5757\u4f9d\u8d56\u4e8e\u5e95\u5c42\u6a21\u5757\uff0c\u4e0d\u5b58\u5728\u53cd\u5411\u4f9d\u8d56 core\u4e0eos\u76ee\u5f55\u7684\u5b9a\u4f4d\u90fd\u662f\u5e95\u5c42\u6a21\u5757\uff0cos\u5305\u62ec\u5404\u7c7b\u7cfb\u7edf\u517c\u5bb9\u7684\u5904\u7406 core\u4e0eos\u4e2d\u7684\u6587\u4ef6\u53ef\u4ee5\u518d\u5927\u81f4\u7684\u533a\u5206\u4e3a2\u7c7b \u57fa\u7840\u5e93\u5c01\u88c5\uff0c\u4e92\u76f8\u4e4b\u95f4\u4f9d\u8d56\u8f83\u5c11\u3001\u6ca1\u6709\u590d\u6742\u7684\u5904\u7406\u6d41\u7a0b\u3002\u4f8b\u5982ngx_array\u3001ngx_md5\u3001ngx_palloc\u3001ngx_rbtree\u7b49\u7b49 nginx\u57fa\u7840\u6d41\u7a0b\uff0c\u5305\u62ec\u542f\u52a8\u6d41\u7a0b\u3001\u8fdb\u7a0b\u7ba1\u7406\u3001\u6a21\u5757\u7ba1\u7406\u7b49\u7b49\u3002\u5178\u578b\u6587\u4ef6\u5305\u62ecnginx\u3001ngx_cycle\u3001ngx_process_cycle\u7b49\u7b49","title":"\u6e90\u7801\u76ee\u5f55"},{"location":"nginx\u6e90\u7801\u6ce8\u89e3/\u6e90\u7801\u6587\u4ef6\u5206\u6790/#coreos","text":"\u6211\u5c06core\u4e0eos2\u4e2a\u6587\u4ef6\u5939\u4e0b\u7684\u6587\u4ef6\u8fdb\u884c\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u5206\u7c7b core \u6838\u5fc3\u6d41\u7a0b\uff0c\u9700\u8981\u91cd\u70b9\u7814\u7a76 utils \u57fa\u7840\u5e93\uff0c\u4f9b\u6838\u5fc3\u6d41\u7a0b\u4f7f\u7528\uff0c\u4e0d\u5f71\u54cd\u6838\u5fc3\u6d41\u7a0b utils(use ngx_cycle->log)\u57fa\u7840\u5e93\uff0c\u4f46\u662f\u4e3a\u4e86\u8c03\u8bd5\uff0c\u4f7f\u7528\u5230\u4e86ngx_cycle->log\u53d8\u91cf\uff0c\u53ef\u4ee5\u7b80\u5355\u4e0eutils\u653e\u5728\u4e00\u8d77\u3002 utils(use core) \u4f1a\u5f71\u54cd\u5230\u6838\u5fc3\u6d41\u7a0b\uff0c\u6216\u53d7\u6838\u5fc3\u6d41\u7a0b\u5f71\u54cd\u7684\u51e0\u4e2a\u5e93\uff0c\u4e3b\u8981\u4f53\u73b0\u662f\u4f7f\u7528\u5230\u4e86\u4e00\u4e9b\u5b9a\u4e49\u72b6\u6001\u7684\u5168\u5c40\u53d8\u91cf\u3002 \u540e2\u7c7b\u6587\u4ef6\u5982\u679c\u80fd\u5c06\u5176\u4e0ecore\u89e3\u8026\u7684\u8bdd\u5c31\u66f4\u597d\u4e86\u3002 \u5177\u4f53\u5206\u7c7b\u5982\u4e0b \"core\": { \"files\": [ \"ngx_process_cycle.o\", \"ngx_cycle.o\", \"ngx_module.o\", \"nginx.o\" ] }, \"utils\": { \"files\": [ \"ngx_setaffinity.o\", \"ngx_errno.o\", \"ngx_linux_sendfile_chain.o\", \"ngx_time.o\", \"ngx_send.o\", \"ngx_readv_chain.o\", \"ngx_recv.o\", \"ngx_md5.o\", \"ngx_radix_tree.o\", \"ngx_palloc.o\", \"ngx_spinlock.o\", \"ngx_rwlock.o\", \"ngx_sha1.o\", \"ngx_queue.o\", \"ngx_times.o\", \"ngx_rbtree.o\", \"ngx_parse.o\", \"ngx_array.o\", \"ngx_proxy_protocol.o\", \"ngx_buf.o\", \"ngx_regex.o\", \"ngx_list.o\", \"ngx_crypt.o\", \"ngx_alloc.o\", \"ngx_channel.o\", \"ngx_dlopen.o\", \"ngx_shmem.o\", \"ngx_udp_sendmsg_chain.o\", \"ngx_udp_send.o\", \"ngx_writev_chain.o\", \"ngx_user.o\", \"ngx_socket.o\", \"ngx_udp_recv.o\", \"ngx_linux_init.o\", \"ngx_file.o\", \"ngx_inet.o\", \"ngx_resolver.o\", \"ngx_output_chain.o\", \"ngx_files.o\", \"ngx_parse_time.o\", \"ngx_murmurhash.o\", \"ngx_cpuinfo.o\" ] }, \"utils(use ngx_cycle->log)\": { \"files\": [ \"ngx_shmtx.o\", \"ngx_crc32.o\", \"ngx_hash.o\", \"ngx_process.o\", \"ngx_setproctitle.o\", \"ngx_slab.o\", \"ngx_syslog.o\", \"ngx_open_file_cache.o\", \"ngx_string.o\" ] }, \"utils(use core)\": { \"files\": [ \"ngx_log.o\", \"ngx_connection.o\", \"ngx_conf_file.o\", \"ngx_posix_init.o\", \"ngx_daemon.o\" ] }","title":"core\u4e0eos\u6587\u4ef6\u5206\u7c7b"},{"location":"nginx\u6e90\u7801\u6ce8\u89e3/\u6e90\u7801\u6587\u4ef6\u5206\u6790/#http","text":"http\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u642d\u5efa\u4e86\u4e00\u5957http\u7684\u5904\u7406\u6846\u67b6\uff0c\u4e0d\u4ec5\u80fd\u9ad8\u6548\u652f\u6301http\u8bf7\u6c42\u5904\u7406\uff0c\u8fd8\u80fd\u4f7f\u7528\u5b9a\u4e49\u7684\u63a5\u53e3\u5bf9http\u5904\u7406\u8fdb\u884c\u6269\u5c55\u3002 http_core\u662fHTTP\u6a21\u5757\u7684\u6838\u5fc3\uff0c\u5305\u62ec\u4e86\u5904\u7406\u6846\u67b6\u548c\u6d41\u7a0b\u673a\u5236\u3002http2\u7684\u652f\u6301\u5176\u5b9e\u4e5f\u53ef\u4ee5\u5f52\u5e76\u5230\u8fd9\u4e2a\u7c7b\u522b\u4e2d http_module\u662f\u5e38\u89c1\u7684\u6269\u5c55\uff0c\u53ef\u4ee5\u5ea7\u4f4d\u81ea\u5b9a\u4e49\u6a21\u5757\u7684\u53c2\u8003 http_upstream\u4e0ehttp_proxy\u662f2\u7c7b\u5e38\u89c1\u7684\u4e0e\u540e\u7aef\u76f8\u5173\u7684\u6269\u5c55\u6a21\u5757 ngx_http_grpc_module\u672c\u60f3\u5f52\u7c7b\u5728http_proxy\u4e2d\u7684\uff0c\u7531\u4e8e\u5176\u7279\u6b8a\u6027\u76f4\u63a5\u4f9d\u8d56\u4e86http_v2\u7684\u90e8\u5206\u529f\u80fd\uff0c\u6240\u4ee5\u5355\u72ec\u5217\u51fa\u3002 \u5177\u4f53\u5206\u7c7b\u65b9\u5f0f\u5982\u4e0b: \"http_core\": { \"files\": [ \"ngx_http.o\", \"ngx_http_request.o\", \"ngx_http_variables.o\", \"ngx_http_request_body.o\", \"ngx_http_core_module.o\", \"ngx_http_file_cache.o\", \"ngx_http_script.o\", \"ngx_http_parse.o\", \"ngx_http_postpone_filter_module.o\", \"ngx_http_special_response.o\", \"ngx_http_ssl_module.o\" ] }, \"http_proxy\": { \"files\": [ \"ngx_http_proxy_module.o\", \"ngx_http_scgi_module.o\", \"ngx_http_fastcgi_module.o\", \"ngx_http_uwsgi_module.o\", \"ngx_http_memcached_module.o\" ] }, \"http_upstream\": { \"files\": [ \"ngx_http_upstream.o\", \"ngx_http_upstream_round_robin.o\", \"ngx_http_upstream_least_conn_module.o\", \"ngx_http_upstream_ip_hash_module.o\", \"ngx_http_upstream_zone_module.o\", \"ngx_http_upstream_hash_module.o\", \"ngx_http_upstream_keepalive_module.o\", \"ngx_http_upstream_random_module.o\" ] }, \"http_module\": { \"files\": [ \"ngx_http_header_filter_module.o\", \"ngx_http_copy_filter_module.o\", \"ngx_http_userid_filter_module.o\", \"ngx_http_headers_filter_module.o\", \"ngx_http_map_module.o\", \"ngx_http_charset_filter_module.o\", \"ngx_http_index_module.o\", \"ngx_http_limit_conn_module.o\", \"ngx_http_static_module.o\", \"ngx_http_access_module.o\", \"ngx_http_auth_basic_module.o\", \"ngx_http_range_filter_module.o\", \"ngx_http_empty_gif_module.o\", \"ngx_http_not_modified_filter_module.o\", \"ngx_http_mirror_module.o\", \"ngx_http_split_clients_module.o\", \"ngx_http_try_files_module.o\", \"ngx_http_chunked_filter_module.o\", \"ngx_http_geo_module.o\", \"ngx_http_rewrite_module.o\", \"ngx_http_ssi_filter_module.o\", \"ngx_http_log_module.o\", \"ngx_http_autoindex_module.o\", \"ngx_http_gzip_filter_module.o\", \"ngx_http_limit_req_module.o\", \"ngx_http_browser_module.o\", \"ngx_http_referer_module.o\", \"ngx_http_write_filter_module.o\" ] }, \"http_v2\": { \"files\": [ \"ngx_http_v2_module.o\", \"ngx_http_v2_filter_module.o\", \"ngx_http_v2.o\", \"ngx_http_v2_encode.o\", \"ngx_http_v2_huff_decode.o\", \"ngx_http_v2_huff_encode.o\", \"ngx_http_v2_table.o\" ] }","title":"HTTP\u6587\u4ef6\u5206\u6790"},{"location":"nginx\u6e90\u7801\u6ce8\u89e3/\u6e90\u7801\u6587\u4ef6\u5206\u6790/#_2","text":"\u5206\u6790nginx\u4ee3\u7801\u4e2d\u590d\u6742\u5ea6\u6700\u9ad8\u7684\u51e0\u4e2a\u51fd\u6570\uff0c\u5176\u4e2dNLOC\u8868\u793a\u65e0\u6ce8\u91ca\u7684\u4ee3\u7801\u884c\u6570\u3001CCN\u8868\u793a\u5708\u590d\u6742\u5ea6\u3001PARAM\u8868\u793a\u51fd\u6570\u53c2\u6570\u4e2a\u6570\u3001length\u8868\u793a\u603b\u884c\u6570\u3002 ======================================== NLOC CCN PARAM length location ---------------------------------------- 588 151 1 829 ngx_init_cycle 352 133 1 404 ngx_mail_imap_parse_command 413 103 9 652 ngx_resolver_process_a 599 98 2 739 ngx_http_parse_request_line 386 89 1 537 ngx_http_v2_header_filter 331 86 1 465 ngx_http_header_filter 185 85 1 235 ngx_mail_smtp_parse_command 181 85 2 263 ngx_parse_http_time 390 83 2 523 ngx_http_ssi_body_filter 104 82 4 142 ngx_ssl_connection_error 274 76 1 393 ngx_event_pipe_read_upstream 313 73 2 463 ngx_http_grpc_filter 156 71 1 221 ngx_http_v2_push_resources 355 69 1 486 ngx_http_fastcgi_create_request 240 64 1 365 ngx_http_grpc_process_header 231 63 2 341 ngx_http_upstream_send_response 293 62 1 439 ngx_http_fastcgi_process_header 349 60 3 494 ngx_http_proxy_merge_loc_conf 228 60 4 343 ngx_open_cached_file \u6211\u4eec\u53ef\u4ee5\u770b\u5230\u51e0\u70b9 \u89e3\u6790\u548c\u6784\u9020\u6570\u636e\u7684\u51fd\u6570\u590d\u6742\u5ea6\u7279\u522b\u9ad8\uff0c\u4f46\u4ee3\u7801\u7a33\u5b9a\uff0c\u5982\u679c\u9700\u8981\u8c03\u6574\uff0c\u9700\u8981\u6709\u5927\u91cf\u6d4b\u8bd5\u7528\u4f8b\u4fdd\u969c ngx_init_cycle\u662f\u542f\u52a8\u7684\u6838\u5fc3\u6d41\u7a0b\uff0c\u6d89\u53ca\u8303\u56f4\u5e7f\u3001\u4f46\u7f3a\u5c11\u5408\u7406\u5c01\u88c5\uff0c\u8981\u4ed4\u7ec6\u5bf9\u5f85\u3002","title":"\u4ee3\u7801\u590d\u6742\u5ea6\u5206\u6790"}]}